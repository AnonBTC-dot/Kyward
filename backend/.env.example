# KYWARD BACKEND - ENVIRONMENT CONFIGURATION
# Copy this file to .env and fill in your values

# ===========================================
# SERVER CONFIGURATION
# ===========================================
PORT=3001
NODE_ENV=development
FRONTEND_URL=http://localhost:3000

# ===========================================
# SUPABASE DATABASE
# ===========================================
# Get these from your Supabase project: Settings > API
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_SERVICE_KEY=your-supabase-service-role-key

# ===========================================
# SECURITY
# ===========================================
# Generate a secure random string for password hashing
# Use: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
PASSWORD_SALT=your-secure-random-salt-here

# ===========================================
# BITCOIN ON-CHAIN PAYMENTS (HD Derivation)
# ===========================================
# Your Bitcoin extended public key (xpub/ypub/zpub) for HD wallet address derivation
# This allows receiving payments without exposing private keys
# Generate from your hardware wallet or use a tool like https://iancoleman.io/bip39/
XPUB=zpub6rFR7y4Q2AijBEqTUquh...your-xpub-here
ADDRESS_START_INDEX=0

# Demo mode: use a static address instead of deriving from XPUB
# Remove this line in production to use proper XPUB derivation
DEMO_ADDRESS=bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh

# Bitcoin network: mainnet or testnet
BTC_NETWORK=mainnet

# ===========================================
# BTCPAY SERVER (Lightning + Liquid)
# ===========================================
# Self-hosted BTCPay Server configuration
# Documentation: https://docs.btcpayserver.org/API/Greenfield/v1/
BTCPAY_HOST=https://btcpay.yourdomain.com
BTCPAY_STORE_ID=your-store-id
BTCPAY_API_KEY=your-api-key
BTCPAY_WEBHOOK_SECRET=your-webhook-secret

# ===========================================
# USDT PAYMENTS (Direct Blockchain Monitoring)
# ===========================================
# No third-party payment processor required!
# Payments are monitored directly on the blockchain.

# Tron USDT (TRC20) - Your Tron wallet address to receive USDT
# Network fee: ~$1 | Confirmation time: 1-3 minutes
# Get a free address from: Trust Wallet, Ledger, or any Tron wallet
TRON_USDT_ADDRESS=TYour-Tron-Address-Here

# Optional: TronGrid API key for higher rate limits (free at trongrid.io)
# Without API key: 15 requests/second limit
# With API key: Higher limits available
TRONGRID_API_KEY=your-trongrid-api-key

# Ethereum USDT (ERC20) - Your Ethereum wallet address to receive USDT
# Network fee: ~$5-20 | Confirmation time: 1-5 minutes
# Get a free address from: MetaMask, Ledger, or any Ethereum wallet
ETH_USDT_ADDRESS=0xYour-Ethereum-Address-Here

# Required: Etherscan API key (free at etherscan.io/apis)
# Go to etherscan.io > Sign up > API Keys > Create API Key
ETHERSCAN_API_KEY=your-etherscan-api-key

# ===========================================
# EMAIL CONFIGURATION (SMTP)
# ===========================================
# Leave empty to log emails to console instead of sending
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM=Kyward <noreply@kyward.io>

# ===========================================
# LEMON SQUEEZY (FIAT PAYMENTS)
# ===========================================
# Accept credit/debit cards, PayPal, and more via Lemon Squeezy
# Create account at: https://lemonsqueezy.com
# Documentation: https://docs.lemonsqueezy.com

# API Key - Get from: Dashboard > Settings > API
LEMONSQUEEZY_API_KEY=your-lemonsqueezy-api-key

# Store ID - Get from: Dashboard > Settings > Stores
LEMONSQUEEZY_STORE_ID=your-store-id

# Webhook Secret - Get from: Dashboard > Settings > Webhooks
LEMONSQUEEZY_WEBHOOK_SECRET=your-webhook-secret

# Product Variant IDs - Create products in Lemon Squeezy dashboard
# Each plan needs a corresponding product/variant
# Get variant ID from: Dashboard > Products > Select Product > Variants
LEMONSQUEEZY_VARIANT_ESSENTIAL=123456
LEMONSQUEEZY_VARIANT_SENTINEL=123457
LEMONSQUEEZY_VARIANT_CONSULTATION=123458
LEMONSQUEEZY_VARIANT_CONSULTATION_ADDITIONAL=123459

# ===========================================
# PRICING CONFIGURATION (USD)
# ===========================================
PRICE_COMPLETE=9.99
PRICE_CONSULTATION=99
PRICE_CONSULTATION_ADDITIONAL=49
